{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///papillon-umd.js","webpack:///webpack/bootstrap 6ec4174b783f6b5f2d21","webpack:///./papillon.js","webpack:///./src/State.js","webpack:///./src/Observer.js","webpack:///./src/PropertyObserver.js","webpack:///./src/PropertyProxy.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_srcState","_srcState2","_srcObserver","_srcObserver2","State","Observer","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","map","WeakMap","timestamp","request","isObject","state","get","set","cache","keys","reduce","lastCheck","now","lastChange","window","requestAnimationFrame","undefined","v1","v2","_this","changed","changelog","forEach","hasOwnProperty","type","oldValue","is","nestedState","isChanged","_State","_State2","_PropertyObserver","_PropertyObserver2","host","callback","revert","concat","list","observer","push","observe","check","_this2","requestId","checking","cancelAnimationFrame","cb","_defineProperty","_PropertyProxy","_PropertyProxy2","register","PropertyObserver","singleton","proxy","getters","newValue","setters","Set","size","on","add","unobserve","off","PropertyProxy","getter","setter","desc","getOwnPropertyDescriptor","getPrototypeOf","newVal","getOwnDescriptor","ownProperty","getProtoDescriptor","notDefined","bind"],"mappings":"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","file":"papillon-umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"papillon\"] = factory();\n\telse\n\t\troot[\"papillon\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"papillon\"] = factory();\n\telse\n\t\troot[\"papillon\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _srcState = __webpack_require__(1);\n\t\n\tvar _srcState2 = _interopRequireDefault(_srcState);\n\t\n\tvar _srcObserver = __webpack_require__(2);\n\t\n\tvar _srcObserver2 = _interopRequireDefault(_srcObserver);\n\t\n\texports.State = _srcState2['default'];\n\texports.Observer = _srcObserver2['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar map = new WeakMap();\n\tvar timestamp = 0;\n\tvar request = false;\n\t\n\tvar State = (function () {\n\t  _createClass(State, null, [{\n\t    key: 'now',\n\t    value: function now() {\n\t      if (!request) {\n\t        timestamp = timestamp + 1;\n\t        request = window.requestAnimationFrame(function () {\n\t          return request = undefined;\n\t        });\n\t      }\n\t      return timestamp;\n\t    }\n\t  }, {\n\t    key: 'isObject',\n\t    value: function isObject(target) {\n\t      return typeof target === 'object' && target !== null;\n\t    }\n\t  }, {\n\t    key: 'is',\n\t    value: function is(v1, v2) {\n\t      if (v1 === 0 && v2 === 0) {\n\t        return 1 / v1 === 1 / v2;\n\t      }\n\t      if (v1 !== v1) {\n\t        return v2 !== v2;\n\t      }\n\t      return v1 === v2;\n\t    }\n\t  }]);\n\t\n\t  function State(target) {\n\t    _classCallCheck(this, State);\n\t\n\t    if (!State.isObject(target)) {\n\t      throw new TypeError('Invalid arguments');\n\t    }\n\t    var state = map.get(target);\n\t    if (state) {\n\t      return state;\n\t    }\n\t    map.set(target, this);\n\t\n\t    this.cache = Object.keys(target).reduce(function (cache, key) {\n\t      var value = cache[key] = target[key];\n\t      if (State.isObject(value)) {\n\t        new State(value);\n\t      }\n\t      return cache;\n\t    }, {});\n\t\n\t    this.target = target;\n\t    this.lastCheck = State.now();\n\t    this.lastChange = 0;\n\t  }\n\t\n\t  _createClass(State, [{\n\t    key: 'isChanged',\n\t    value: function isChanged() {\n\t      var _this = this;\n\t\n\t      var timestamp = State.now();\n\t\n\t      if (timestamp > this.lastCheck) {\n\t        var changed = false;\n\t\n\t        this.lastCheck = timestamp;\n\t        this.changelog = {};\n\t\n\t        Object.keys(this.cache).forEach(function (key) {\n\t          if (!_this.target.hasOwnProperty(key)) {\n\t            var value = _this.cache[key];\n\t            _this.changelog[key] = { type: 'delete', oldValue: value };\n\t            changed = true;\n\t          }\n\t        });\n\t\n\t        this.cache = Object.keys(this.target).reduce(function (cache, key) {\n\t          var value = _this.target[key];\n\t\n\t          if (!_this.cache.hasOwnProperty(key)) {\n\t            _this.changelog[key] = { type: 'set' };\n\t            changed = true;\n\t          } else if (!State.is(value, _this.cache[key])) {\n\t            _this.changelog[key] = _this.changelog[key] || { type: 'set' };\n\t            _this.changelog[key].oldValue = _this.cache[key];\n\t            changed = true;\n\t          }\n\t\n\t          if (State.isObject(value)) {\n\t            var nestedState = new State(value);\n\t            if (nestedState.isChanged()) {\n\t              changed = true;\n\t              if (!_this.changelog[key]) {\n\t                _this.changelog[key] = { type: 'modify' };\n\t                _this.changelog[key].changelog = nestedState.changelog;\n\t              }\n\t            }\n\t          }\n\t\n\t          cache[key] = _this.target[key];\n\t          return cache;\n\t        }, {});\n\t\n\t        if (changed) {\n\t          this.lastChange = this.lastCheck;\n\t        } else {\n\t          this.changelog = undefined;\n\t        }\n\t      }\n\t\n\t      return this.lastChange === timestamp;\n\t    }\n\t  }]);\n\t\n\t  return State;\n\t})();\n\t\n\texports['default'] = State;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _State = __webpack_require__(1);\n\t\n\tvar _State2 = _interopRequireDefault(_State);\n\t\n\tvar _PropertyObserver = __webpack_require__(3);\n\t\n\tvar _PropertyObserver2 = _interopRequireDefault(_PropertyObserver);\n\t\n\tvar Observer = (function () {\n\t  function Observer(host, keys, callback) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, Observer);\n\t\n\t    if (!host || !keys || !callback) {\n\t      throw new TypeError('Invalid arguments');\n\t    }\n\t\n\t    this.callback = callback;\n\t    this.revert = [];\n\t\n\t    this.state = new _State2['default']([].concat(keys).reduce(function (list, key) {\n\t      var observer = new _PropertyObserver2['default'](host, key);\n\t      list[key] = host[key];\n\t\n\t      _this.revert.push(observer.observe(function (value) {\n\t        list[key] = value;\n\t        _this.check();\n\t      }));\n\t\n\t      return list;\n\t    }, {}));\n\t  }\n\t\n\t  _createClass(Observer, [{\n\t    key: 'check',\n\t    value: function check() {\n\t      var _this2 = this;\n\t\n\t      if (!this.requestId && !this.checking) {\n\t        this.requestId = window.requestAnimationFrame(function () {\n\t          _this2.checking = true;\n\t\n\t          if (_this2.state.isChanged()) {\n\t            _this2.callback(_this2.state.changelog);\n\t          }\n\t\n\t          _this2.checking = _this2.requestId = void 0;\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      if (this.requestId) {\n\t        window.cancelAnimationFrame(this.requestId);\n\t      }\n\t      this.revert.forEach(function (cb) {\n\t        return cb();\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Observer;\n\t})();\n\t\n\texports['default'] = Observer;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _PropertyProxy = __webpack_require__(4);\n\t\n\tvar _PropertyProxy2 = _interopRequireDefault(_PropertyProxy);\n\t\n\tvar register = new WeakMap();\n\t\n\tvar PropertyObserver = (function () {\n\t  _createClass(PropertyObserver, null, [{\n\t    key: 'singleton',\n\t    value: function singleton(host, key, target) {\n\t      var instance = register.get(host);\n\t      if (instance) {\n\t        if (instance[key]) {\n\t          return instance[key];\n\t        } else {\n\t          instance[key] = target;\n\t        }\n\t      } else {\n\t        register.set(host, _defineProperty({}, key, target));\n\t      }\n\t\n\t      return target;\n\t    }\n\t  }]);\n\t\n\t  function PropertyObserver(host, key) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, PropertyObserver);\n\t\n\t    var singleton = PropertyObserver.singleton(host, key, this);\n\t    if (singleton !== this) {\n\t      return singleton;\n\t    }\n\t\n\t    this.proxy = new _PropertyProxy2['default'](host, key, function (value) {\n\t      return _this.getters.forEach(function (cb) {\n\t        return cb(value);\n\t      });\n\t    }, function (newValue) {\n\t      return _this.setters.forEach(function (cb) {\n\t        return cb(newValue);\n\t      });\n\t    });\n\t\n\t    this.getters = new Set();\n\t    this.setters = new Set();\n\t  }\n\t\n\t  _createClass(PropertyObserver, [{\n\t    key: 'observe',\n\t    value: function observe(get, set) {\n\t      var _this2 = this;\n\t\n\t      if (!this.getters.size) {\n\t        this.proxy.on();\n\t      }\n\t\n\t      this.getters.add(get);\n\t      this.setters.add(set || get);\n\t\n\t      return function () {\n\t        _this2.unobserve(get, set);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'unobserve',\n\t    value: function unobserve(get, set) {\n\t      this.getters['delete'](get);\n\t      this.setters['delete'](set || get);\n\t\n\t      if (!this.getters.size && !this.setters.size) {\n\t        this.proxy.off();\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return PropertyObserver;\n\t})();\n\t\n\texports['default'] = PropertyObserver;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PropertyProxy = (function () {\n\t  function PropertyProxy(host, key, get, set) {\n\t    _classCallCheck(this, PropertyProxy);\n\t\n\t    this.host = host;\n\t    this.key = key;\n\t    this.getter = get;\n\t    this.setter = set || get;\n\t  }\n\t\n\t  _createClass(PropertyProxy, [{\n\t    key: \"getOwnDescriptor\",\n\t    value: function getOwnDescriptor() {\n\t      var desc = Object.getOwnPropertyDescriptor(this.host, this.key);\n\t\n\t      if (desc) {\n\t        if (!desc.configurable) {\n\t          throw new TypeError(\"Cannot create proxy for not configurable property '\" + this.key + \"'\");\n\t        }\n\t        if (!desc.get && !desc.set && !desc.writable) {\n\t          throw new TypeError(\"Cannot create proxy for readonly property '\" + this.key + \"'\");\n\t        }\n\t      }\n\t\n\t      return desc;\n\t    }\n\t  }, {\n\t    key: \"getProtoDescriptor\",\n\t    value: function getProtoDescriptor() {\n\t      var _this = this;\n\t\n\t      var desc = undefined,\n\t          host = Object.getPrototypeOf(this.host);\n\t\n\t      while (host) {\n\t        desc = Object.getOwnPropertyDescriptor(host, this.key);\n\t        if (desc) {\n\t          break;\n\t        } else {\n\t          host = Object.getPrototypeOf(host);\n\t        }\n\t      }\n\t\n\t      if (desc) {\n\t        if (!desc.configurable) {\n\t          throw new TypeError(\"Cannot create proxy for not configurable property '\" + this.key + \"'\");\n\t        }\n\t\n\t        if (!desc.get && !desc.set) {\n\t          desc.get = function () {\n\t            delete _this.host[_this.key];\n\t            var value = _this.host[_this.key];\n\t            _this.on();\n\t            return value;\n\t          };\n\t          desc.set = function (newVal) {\n\t            delete _this.host[_this.key];\n\t            _this.host[_this.key] = newVal;\n\t            _this.on();\n\t          };\n\t        }\n\t      }\n\t\n\t      return desc;\n\t    }\n\t  }, {\n\t    key: \"on\",\n\t    value: function on() {\n\t      var desc = this.getOwnDescriptor();\n\t\n\t      if (desc) {\n\t        this.ownProperty = true;\n\t      } else {\n\t        this.ownProperty = false;\n\t        desc = this.getProtoDescriptor();\n\t      }\n\t\n\t      if (!desc) {\n\t        this.ownProperty = true;\n\t        this.notDefined = true;\n\t        desc = {\n\t          enumerable: true,\n\t          writable: true,\n\t          configurable: true\n\t        };\n\t      }\n\t\n\t      this.desc = desc;\n\t      this.value = this.host[this.key];\n\t\n\t      Object.defineProperty(this.host, this.key, {\n\t        configurable: true,\n\t        enumerable: this.desc.enumerable,\n\t        get: this.get.bind(this),\n\t        set: this.set.bind(this)\n\t      });\n\t    }\n\t  }, {\n\t    key: \"off\",\n\t    value: function off() {\n\t      if (this.ownProperty) {\n\t        if (this.notDefined) {\n\t          delete this.host[this.key];\n\t        } else {\n\t          if (!this.desc.get && !this.desc.set) {\n\t            this.desc.value = this.value;\n\t          }\n\t          Object.defineProperty(this.host, this.key, this.desc);\n\t        }\n\t      } else {\n\t        delete this.host[this.key];\n\t      }\n\t    }\n\t  }, {\n\t    key: \"get\",\n\t    value: function get() {\n\t      if (this.desc.get) {\n\t        this.value = this.desc.get.call(this.host);\n\t      }\n\t      this.getter(this.value);\n\t      return this.value;\n\t    }\n\t  }, {\n\t    key: \"set\",\n\t    value: function set(newValue) {\n\t      this.notDefined = false;\n\t\n\t      if (this.desc.set) {\n\t        this.desc.set.call(this.host, newValue);\n\t      }\n\t\n\t      if (this.desc.writable || this.desc.get || this.desc.set) {\n\t        this.value = newValue;\n\t      }\n\t\n\t      this.setter(this.value);\n\t    }\n\t  }]);\n\t\n\t  return PropertyProxy;\n\t})();\n\t\n\texports[\"default\"] = PropertyProxy;\n\tmodule.exports = exports[\"default\"];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** papillon-umd.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6ec4174b783f6b5f2d21\n **/","import State from './src/State';\nimport Observer from './src/Observer';\n\nexport {\n  State,\n  Observer\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./papillon.js\n **/","let map = new WeakMap();\nlet timestamp = 0;\nlet request = false;\n\nexport default class State {\n\n  static now() {\n    if (!request) {\n      timestamp = timestamp + 1;\n      request = window.requestAnimationFrame(\n        ()=> request = undefined\n      );\n    }\n    return timestamp;\n  }\n\n  static isObject(target) {\n    return typeof(target) === 'object' && target !== null;\n  }\n\n  static is(v1, v2) {\n    if (v1 === 0 && v2 === 0) {\n      return 1 / v1 === 1 / v2;\n    }\n    if (v1 !== v1) {\n      return v2 !== v2;\n    }\n    return v1 === v2;\n  }\n\n  constructor(target) {\n    if (!State.isObject(target)) {\n      throw new TypeError('Invalid arguments');\n    }\n    let state = map.get(target);\n    if (state) { return state; }\n    map.set(target, this);\n\n    this.cache = Object.keys(target).reduce((cache, key)=> {\n      let value = cache[key] = target[key];\n      if (State.isObject(value)) {\n        new State(value);\n      }\n      return cache;\n    }, {});\n\n    this.target = target;\n    this.lastCheck = State.now();\n    this.lastChange = 0;\n  }\n\n  isChanged() {\n    let timestamp = State.now();\n\n    if (timestamp > this.lastCheck) {\n      let changed = false;\n\n      this.lastCheck = timestamp;\n      this.changelog = {};\n\n      Object.keys(this.cache).forEach((key)=> {\n        if (!this.target.hasOwnProperty(key)) {\n          let value = this.cache[key];\n          this.changelog[key] = { type: 'delete', oldValue: value };\n          changed = true;\n        }\n      });\n\n      this.cache = Object.keys(this.target).reduce((cache, key)=> {\n        let value = this.target[key];\n\n        if (!this.cache.hasOwnProperty(key)) {\n          this.changelog[key] = { type:'set' };\n          changed = true;\n        } else if (!State.is(value, this.cache[key])) {\n          this.changelog[key] = this.changelog[key] || { type: 'set'};\n          this.changelog[key].oldValue = this.cache[key];\n          changed = true;\n        }\n\n        if (State.isObject(value)) {\n          let nestedState = new State(value);\n          if (nestedState.isChanged()) {\n            changed = true;\n            if (!this.changelog[key]) {\n              this.changelog[key] = { type: 'modify' };\n              this.changelog[key].changelog = nestedState.changelog;\n            }\n          }\n        }\n\n        cache[key] = this.target[key];\n        return cache;\n      }, {});\n\n      if (changed) {\n        this.lastChange = this.lastCheck;\n      } else {\n        this.changelog = undefined;\n      }\n    }\n\n    return this.lastChange === timestamp;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/State.js\n **/","import State from './State';\nimport PropertyObserver from './PropertyObserver';\n\nexport default class Observer {\n  constructor(host, keys, callback) {\n    if (!host || !keys || !callback) {\n      throw new TypeError('Invalid arguments');\n    }\n\n    this.callback = callback;\n    this.revert = [];\n\n    this.state = new State(\n      [].concat(keys).reduce( (list, key) => {\n        let observer = new PropertyObserver(host, key);\n        list[key] = host[key];\n\n        this.revert.push(observer.observe((value)=> {\n          list[key] = value;\n          this.check();\n        }));\n\n        return list;\n      }, {})\n    );\n  }\n\n  check() {\n    if (!this.requestId && !this.checking) {\n      this.requestId = window.requestAnimationFrame(()=> {\n        this.checking = true;\n\n        if (this.state.isChanged()) {\n          this.callback(this.state.changelog);\n        }\n\n        this.checking = this.requestId = void 0;\n      });\n    }\n  }\n\n  destroy() {\n    if (this.requestId) {\n      window.cancelAnimationFrame(this.requestId);\n    }\n    this.revert.forEach(cb => cb());\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Observer.js\n **/","import PropertyProxy from './PropertyProxy';\n\nlet register = new WeakMap();\n\nclass PropertyObserver {\n  static singleton(host, key, target) {\n    let instance = register.get(host);\n    if (instance) {\n      if (instance[key]) {\n        return instance[key];\n      } else {\n        instance[key] = target;\n      }\n    } else {\n      register.set(host, { [key]: target });\n    }\n\n    return target;\n  }\n\n  constructor(host, key) {\n    let singleton = PropertyObserver.singleton(host, key, this);\n    if (singleton !== this) {\n      return singleton;\n    }\n\n    this.proxy = new PropertyProxy(host, key,\n      (value)=> this.getters.forEach(cb => cb(value)),\n      (newValue)=> this.setters.forEach(cb => cb(newValue))\n    );\n\n    this.getters = new Set();\n    this.setters = new Set();\n  }\n\n  observe(get, set) {\n    if (!this.getters.size) {\n      this.proxy.on();\n    }\n\n    this.getters.add(get);\n    this.setters.add(set || get);\n\n    return ()=> {\n      this.unobserve(get, set);\n    };\n  }\n\n  unobserve(get, set) {\n    this.getters.delete(get);\n    this.setters.delete(set || get);\n\n    if (!this.getters.size && !this.setters.size) {\n      this.proxy.off();\n    }\n  }\n}\n\nexport default PropertyObserver;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/PropertyObserver.js\n **/","class PropertyProxy {\n  constructor(host, key, get, set) {\n    this.host = host;\n    this.key = key;\n    this.getter = get;\n    this.setter = set || get;\n  }\n\n  getOwnDescriptor() {\n    let desc = Object.getOwnPropertyDescriptor(this.host, this.key);\n\n    if (desc) {\n      if (!desc.configurable) {\n        throw new TypeError(\n          `Cannot create proxy for not configurable property '${this.key}'`);\n      }\n      if (!desc.get && !desc.set && !desc.writable) {\n        throw new TypeError(\n          `Cannot create proxy for readonly property '${this.key}'`);\n      }\n    }\n\n    return desc;\n  }\n\n  getProtoDescriptor() {\n    let desc, host = Object.getPrototypeOf(this.host);\n\n    while(host) {\n      desc = Object.getOwnPropertyDescriptor(host, this.key);\n      if (desc) {\n        break;\n      } else {\n        host = Object.getPrototypeOf(host);\n      }\n    }\n\n    if (desc) {\n      if (!desc.configurable) {\n        throw new TypeError(\n          `Cannot create proxy for not configurable property '${this.key}'`);\n      }\n\n      if (!desc.get && !desc.set) {\n        desc.get = ()=> {\n          delete this.host[this.key];\n          let value = this.host[this.key];\n          this.on();\n          return value;\n        };\n        desc.set = (newVal)=> {\n          delete this.host[this.key];\n          this.host[this.key] = newVal;\n          this.on();\n        };\n      }\n    }\n\n    return desc;\n  }\n\n  on() {\n    let desc = this.getOwnDescriptor();\n\n    if (desc) {\n      this.ownProperty = true;\n    } else {\n      this.ownProperty = false;\n      desc = this.getProtoDescriptor();\n    }\n\n    if (!desc) {\n      this.ownProperty = true;\n      this.notDefined = true;\n      desc = {\n        enumerable: true,\n        writable: true,\n        configurable: true\n      };\n    }\n\n    this.desc = desc;\n    this.value = this.host[this.key];\n\n    Object.defineProperty(this.host, this.key, {\n      configurable: true,\n      enumerable: this.desc.enumerable,\n      get: this.get.bind(this),\n      set: this.set.bind(this)\n    });\n  }\n\n  off() {\n    if (this.ownProperty) {\n      if (this.notDefined) {\n        delete this.host[this.key];\n      } else {\n        if (!this.desc.get && !this.desc.set) {\n          this.desc.value = this.value;\n        }\n        Object.defineProperty(this.host, this.key, this.desc);\n      }\n    } else {\n      delete this.host[this.key];\n    }\n  }\n\n  get() {\n    if (this.desc.get) {\n      this.value = this.desc.get.call(this.host);\n    }\n    this.getter(this.value);\n    return this.value;\n  }\n\n  set(newValue) {\n    this.notDefined = false;\n\n    if (this.desc.set) {\n      this.desc.set.call(this.host, newValue);\n    }\n\n    if (this.desc.writable || this.desc.get || this.desc.set) {\n      this.value = newValue;\n    }\n\n    this.setter(this.value);\n  }\n}\n\nexport default PropertyProxy;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/PropertyProxy.js\n **/"],"sourceRoot":""}